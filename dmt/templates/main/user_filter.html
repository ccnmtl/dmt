{% extends 'base.html' %}
{% load bootstrap %}

{% block title %}All Users{% endblock %}

{% block css %}
<link rel="stylesheet" href="{{STATIC_URL}}css/tablecloth.css">
{% endblock %}

{% block primarynavtabs %}
{% endblock %}

{% block primarynavtabsright %}
{% endblock %}


{% block content %}

<h1 class="page-title">All Users</h1>

<br />

<ul class="nav nav-tabs object-tabs">
  <li class="active"><a href="#list" data-toggle="tab"> List </a></li>
  <li><a href="#filter" data-toggle="tab"> Filter users </a></li>
</ul>

<div class="tab-content">
        <div class="tab-pane fade in active" id="list">

<table class="table table-condensed table-striped tablesorter table-sortable table-items">
	<thead>
		<tr>
			<th style="white-space: nowrap;">User</th>
			<th class="hidden-xs">Title</th>
			<th class="hidden-xs">Hours Assigned</th>
			<th>Email</th>
			<th class="hidden-sm hidden-xs">Status</th>
		</tr>
		<tbody>

{% for user in object_list %}
<tr>
	<td style="white-space: nowrap;" {% if user.status == 'inactive' %}class="user-inactive"{% endif %}><a href="{{user.get_absolute_url}}">{{user.fullname}}</a></td>
	<td class="hidden-xs">{{user.title}}</td>
  <td style="width: 140px;" class="hidden-xs">{{user.total_assigned_time|floatformat}}</td>
	<td>{{user.email}}</td>
	<td class="hidden-sm hidden-xs"><a href="?status={{user.status}}">{{user.status}}</a></td>
</tr>
{% endfor %}

</tbody>
</table>


</div>

<div class="tab-pane fade" id="filter">
<p><a class="btn btn-success" href="/user/">Clear Filter</a></p>
<hr />
<form action="" method="get">
  {{ filter.form|bootstrap }}
  <input type="submit" class="btn btn-primary" value="filter" />
</form>

</div>
</div>


{% endblock %}

{% block js %}
<script src="{{STATIC_URL}}js/libs/jquery.tablesorter.min.js"></script>
<script>
$(document).ready(function() 
    { 
        $(".table-items").tablesorter({
            sortList: [[0, 0]]
        });
});
</script>
{% endblock %}
